import struct
from steam3.Types.stat_types import StatsLogon, StatsVConn


class MsgClientNoUDPConnectivity:
    def __init__(self, data):
        self.deserialize(data)

    def deserialize(self, data):
        logon_size = struct.calcsize('<iiii')
        logon_data = data[:logon_size]
        self.m_StatsLogon = StatsLogon(logon_data)

        vconn_data = data[logon_size:]
        self.m_StatsVConn = StatsVConn(vconn_data)

    def __str__(self):
        return (
            f"MsgClientNoUDPConnectivity(m_StatsLogon={self.m_StatsLogon}, "
            f"m_StatsVConn={self.m_StatsVConn})"
        )

    def __repr__(self):
        return self.__str__()

# Example usage:
"""buffer = b'\x02\x00\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x19\x00\x00\x00\x00\x00\x00\x00\x0c\x0e\x00\x00\x00\x00\x00\x00\x1e\x00\x00\x00\x00\x00\x00\x00\x1e\x00\x00\x00\x00\x00\x00\x00\xcc\t\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xe9\xbb\x01\x00\x04\xf2\x00\x00vO\x03\x00\x03\x00\x00\x00'

message = MsgClientNoUDPConnectivity(buffer)
print(message)
"""

